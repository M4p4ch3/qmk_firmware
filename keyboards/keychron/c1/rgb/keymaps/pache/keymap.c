/*
Copyright 2020 Dimitris Mantzouranis

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
#include QMK_KEYBOARD_H

#include "keymap_french.h"

// #define SP_Q LT(L_NS, FR_Q)
// #define SP_F LT(L_NAV, KC_F)
// #define SP_M LT(L_NS, FR_M)

#define SP_SPACE KC_NO, KC_NO, KC_NO, LT(L_NS, KC_SPC), KC_NO, KC_NO, KC_NO
#define KEY_SPACE KC_NO, KC_NO, KC_NO, KC_SPC, KC_NO, KC_NO, KC_NO

// Each layer gets a name for readability, which is then used in the keymap matrix below.
// The underscores don't mean anything - you can have a layer called STUFF or any other name.
// Layer names don't all need to be of the same length, obviously, and you can also skip them
// entirely and just use numbers.
enum layer_names {
    // Standard
    L_STD,
    // Numbers and Symbols
    L_NS,
    // Navigation
    L_NAV,
    // Stock mapping, only available via DIP switch when set to MAC
    L_STOCK,
};

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    /*
    // +-------------------------------------------------------------------------------------------+
    // | ESC |  | F1 | F2 | F3 | F4 | | F5 | F6 | F7 | F8 | | F9| F10| F11| F12|  | |PSCR|CORT|RGB |
    // +--------------------------------------------------------------------------+ +--------------+
    // | <>  |  1 |  2 |  3 |  4 |  5 |  6 |  7 |  8 |  9 |  0 |  - |  = | BACKSP | |INS |HOME|PGUP|
    // +--------------------------------------------------------------------------+ +--------------+
    // |  TAB  |  Q |  W |  E |  R |  T |  Y |  U |  I |  O |  P |  [ |  ] |   \  | |DEL |END |PGDN|
    // +--------------------------------------------------------------------------+ +--------------+
    // | CAPSLCK  |  A |  S |  D |  F |  G |  H |  J |  K |  L | ; | ' |  RETURN  |                |
    // +--------------------------------------------------------------------------+      +----+    |
    // | LSHIFT     |  Z |  X |  C |  V |  B |  N |  M | , | . |  / |   RSHIFT    |      | UP |    |
    // +--------------------------------------------------------------------------+ +--------------+
    // |LCTRL |LALT |L_NAV |            SPACE            |L_NS |RALT |CMD |RCTRL  | |LFT |DWN |RGT |
    // +-------------------------------------------------------------------------------------------+
    */

    [L_STD] = {
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | ESC  |      |  F1  |  F2  |  F3  |  F4  |   |  F5  |  F6  |  F7  |  F8  |  |  F9  | F10  | F11  | F12  |          |RGB (TOG,CHG)|PANIC |
        {   KC_ESC,       KC_F1, KC_F2, KC_F3, KC_F4,     KC_F5, KC_F6, KC_F7, KC_F8,    KC_F9, KC_F10,KC_F11,KC_F12,  KC_NO,   RGB_TOG,RGB_MOD,TO(L_STD) },
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | <>   | &1   | é2~  | "3#  | '4{  | (5[  | -6|  | è7`  | _8\  | ç9^  | à0@  | )°]  | =+}  |   BACKSP    |          | INS  | HOME | PGUP |
        {   FR_LABK,KC_1, KC_2,  KC_3,  KC_4,  KC_5,  KC_6,  KC_7,  KC_8,  KC_9,  KC_0,  FR_RPRN,FR_EQL,  KC_BSPC,              KC_INS,KC_HOME,KC_PGUP },
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | TAB     | A    | Z    | E    | R    | T    | Y    | U    | I    | O    | P    | ^¨   | $£   | *µ       |          | DEL  | END  | PGDN |
        {   KC_TAB,   FR_A,  FR_Z,  KC_E,  KC_R,  KC_T,  KC_Y,  KC_U,  KC_I,  KC_O,  KC_P,  FR_CIRC,FR_DLR,FR_ASTR,             KC_DEL,KC_END,KC_PGDN },
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | CAPSLCK   | Q    | S    | D    | F    | G    | H    | J    | K    | L    | M    | ù%   |    RETURN     |
        {   TT(L_NAV),  FR_Q,  KC_S,  KC_D,  KC_F,  KC_G,  KC_H,  KC_J,  KC_K,  KC_L,  FR_M,  FR_UGRV,KC_NO,KC_ENT,             KC_NO, KC_NO, KC_NO },
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | LSHIFT      | W    | X    | C    | V    | B    | N    | ,?   | ;.   | :/   | !§   |       RSHIFT       |          |      | UP   |      |
        {   KC_LSFT,KC_NO,FR_W,  KC_X,  KC_C,  KC_V,  KC_B,  KC_N,  FR_COMM,FR_SCLN,FR_COLN,FR_EXLM,KC_NO,KC_RSFT,              KC_NO, KC_UP, KC_NO },
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | LCTRL  |  LCMD  |  LALT  |                  SPACE                  |  RALT  |  RCMD  |   FN   | RCTRL  |          | LFT  | DWN  | RGT  |
        {   KC_LCTL, KC_LCMD, KC_LALT,                 SP_SPACE,                 KC_RALT, KC_RCMD, TT(L_NS),KC_RCTL,            KC_LEFT,KC_DOWN,KC_RGHT }
        // |----------------------------------------------------------------------------------------------------------------------------------------|
    },

    [L_NS] = {
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        // | ESC    |        |  F1    |  F2    |  F3    |  F4    |    |  F5    |  F6    |  F7    |  F8    |   |  F9    |  F10   |  F11   |  F12   |          | PSCR   | CORT   | RGB    |
        {   _______,          _______, _______, _______, _______,      _______, _______, _______, _______,     _______, _______, _______, _______, _______,   _______, _______, _______ },
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        // | <>     | &1     | é2~    | "3#    | '4{    | (5[    | -6|    | è7`    | _8\    | ç9^    | à0@    | )°]    | =+}    |     BACKSP      |          | INS    | HOME   | PGUP   |
        {   _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,                     _______, _______, _______ },
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        // | TAB       | A      | Z      | E      | R      | T      | Y      | U      | I      | O      | P      | ^¨     | $£     | *µ           |          | DEL    | END    | PGDN   |
        {   _______,    FR_LBRC, FR_RBRC, FR_LPRN, FR_RPRN, FR_QUOT, FR_MINS, FR_PLUS, FR_EQL,  FR_ASTR, _______, RALT(KC_9),_______,_______,                 _______, _______, _______ },
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        // | CAPSLCK     | Q      | S      | D      | F      | G      | H      | J      | K      | L      | M      | ù%     |    RETURN           |
        {   _______,      FR_1,    FR_2,    FR_3,    FR_4,    FR_5,    FR_6,    FR_7,    FR_8,    FR_9,    FR_0,    _______, _______,_______,                 _______, _______, _______ },
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        // | LSHIFT        | W      | X      | C      | V      | B      | N      | ,?     | ;.     | :/     | !§     |       RSHIFT               |          |        | UP     |        |
        {   _______,_______,FR_LABK, FR_RABK, FR_LCBR, FR_RCBR, FR_DQUO, FR_UNDS, _______, _______, _______, _______, _______,_______,                        _______, _______, _______ },
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        {   _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,                     _______, _______, _______ }
    },

    [L_NAV] = {
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        // | ESC    |        |  F1    |  F2    |  F3    |  F4    |    |  F5    |  F6    |  F7    |  F8    |   |  F9    |  F10   |  F11   |  F12   |          | PSCR   | CORT   | RGB    |
        {   _______,          RESET,   _______, _______, _______,      _______, _______, _______, _______,     _______, _______, _______, _______, _______,   _______, _______, _______ },
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        // | <>     | &1     | é2~    | "3#    | '4{    | (5[    | -6|    | è7`    | _8\    | ç9^    | à0@    | )°]    | =+}    |     BACKSP      |          | INS    | HOME   | PGUP   |
        {   _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,                     _______, _______, _______ },
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        // | TAB       | A      | Z      | E      | R      | T      | Y      | U      | I      | O      | P      | ^¨     | $£     | *µ           |          | DEL    | END    | PGDN   |
        {   _______,    _______, _______, _______, _______, _______, KC_INS,  KC_HOME, KC_UP,   KC_END,  _______, _______, _______, _______,                  _______, _______, _______ },
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        // | CAPSLCK     | Q      | S      | D      | F      | G      | H      | J      | K      | L      | M      | ù%     |    RETURN           |
        {   _______,      _______, _______, _______, _______, _______, KC_DEL,  KC_LEFT, KC_DOWN, KC_RGHT, _______, _______, _______,_______,                 _______, _______, _______ },
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        // | LSHIFT        | W      | X      | C      | V      | B      | N      | ,?     | ;.     | :/     | !§     |       RSHIFT               |          |        | UP     |        |
        {   _______,_______,_______, _______, _______, _______, _______, KC_BSPC, _______, _______, _______, _______, _______,_______,                        _______, _______, _______ },
        // |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
        {   _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,                     _______, _______, _______ }
    },

    // Stock mapping, only available via DIP switch when set to MAC
    [L_STOCK] = {
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | ESC  |      |  F1  |  F2  |  F3  |  F4  |   |  F5  |  F6  |  F7  |  F8  |  |  F9  | F10  | F11  | F12  |          |RGB (TOG,CHG)|PANIC |
        {   KC_ESC,       KC_F1, KC_F2, KC_F3, KC_F4,     KC_F5, KC_F6, KC_F7, KC_F8,    KC_F9, KC_F10,KC_F11,KC_F12,  KC_NO,   RGB_TOG,RGB_MOD,KC_NO },
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | <>   | &1   | é2~  | "3#  | '4{  | (5[  | -6|  | è7`  | _8\  | ç9^  | à0@  | )°]  | =+}  |   BACKSP    |          | INS  | HOME | PGUP |
        {   FR_LABK,KC_1, KC_2,  KC_3,  KC_4,  KC_5,  KC_6,  KC_7,  KC_8,  KC_9,  KC_0,  FR_RPRN,FR_EQL,  KC_BSPC,              KC_INS,KC_HOME,KC_PGUP },
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | TAB     | A    | Z    | E    | R    | T    | Y    | U    | I    | O    | P    | ^¨   | $£   | *µ       |          | DEL  | END  | PGDN |
        {   KC_TAB,   FR_A,  FR_Z,  KC_E,  KC_R,  KC_T,  KC_Y,  KC_U,  KC_I,  KC_O,  KC_P,  FR_CIRC,FR_DLR,FR_ASTR,             KC_DEL,KC_END,KC_PGDN },
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | CAPSLCK   | Q    | S    | D    | F    | G    | H    | J    | K    | L    | M    | ù%   |    RETURN     |
        {   KC_NO,      FR_Q,  KC_S,  KC_D,  KC_F,  KC_G,  KC_H,  KC_J,  KC_K,  KC_L,  FR_M,  FR_UGRV,KC_NO,KC_ENT,             KC_NO, KC_NO, KC_NO },
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | LSHIFT      | W    | X    | C    | V    | B    | N    | ,?   | ;.   | :/   | !§   |       RSHIFT       |          |      | UP   |      |
        {   KC_LSFT,KC_NO,FR_W,  KC_X,  KC_C,  KC_V,  KC_B,  KC_N,  FR_COMM,FR_SCLN,FR_COLN,FR_EXLM,KC_NO,KC_RSFT,              KC_NO, KC_UP, KC_NO },
        // |----------------------------------------------------------------------------------------------------------------------------------------|
        // | LCTRL  |  LCMD  |  LALT  |                  SPACE                  |  RALT  |  RCMD  |   FN   | RCTRL  |          | LFT  | DWN  | RGT  |
        {   KC_LCTL, KC_LCMD, KC_LALT,                 KEY_SPACE,                KC_RALT, KC_RCMD, KC_NO,   KC_RCTL,            KC_LEFT,KC_DOWN,KC_RGHT }
        // |----------------------------------------------------------------------------------------------------------------------------------------|
    }
};
